
[2023-03-11T08:17:12.465Z] Scanning project root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: **/*garden.y*ml
→ Excludes: .garden/**/*,.git,.gitmodules,.garden/**/*,debug-info*/**

[2023-03-11T08:17:12.592Z] Found 2 files in project root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:17:12.737Z] Getting status...

[2023-03-11T08:17:14.335Z] Using current context: docker-desktop

[2023-03-11T08:17:14.358Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:

[2023-03-11T08:17:14.472Z] Kubernetes: Getting API resource info for group networking.k8s.io/v1

[2023-03-11T08:17:14.498Z] Initializing...

[2023-03-11T08:17:14.669Z] Error reading safe directories from the .gitconfig: Error: Command "git config --get-all safe.directory" failed with code 1:

[2023-03-11T08:17:14.885Z] Getting status...

[2023-03-11T08:17:14.987Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:

[2023-03-11T08:17:15.033Z] Getting status... → Done

[2023-03-11T08:17:15.041Z] Scanning project root at /opt/homebrew/Cellar/garden-cli/0.12.52/libexec/static/kubernetes/system
→ Includes: **/*garden.y*ml
→ Excludes: ../../../../../../../../../Users/brennanwalsh/Sites/Sandbox/proj/.garden/kubernetes.garden/**/*,.git,.gitmodules,.garden/**/*,debug-info*/**

[2023-03-11T08:17:15.154Z] Found 11 files in project root /opt/homebrew/Cellar/garden-cli/0.12.52/libexec/static/kubernetes/system

[2023-03-11T08:17:15.274Z] Resolving 11 modules...

[2023-03-11T08:17:15.513Z] Resolving 11 modules... → Done

[2023-03-11T08:17:15.526Z] Kubernetes: Getting API resource info for group apps/v1

[2023-03-11T08:17:15.526Z] Kubernetes: Getting API resource info for group v1

[2023-03-11T08:17:15.567Z] Getting currently deployed resource statuses...

[2023-03-11T08:17:15.597Z] Comparing expected and deployed resources...

[2023-03-11T08:17:15.598Z] All resources match.

[2023-03-11T08:17:16.241Z] Initializing...

[2023-03-11T08:17:16.250Z] Getting status... → Done

[2023-03-11T08:17:16.251Z] Resolving 3 modules...

[2023-03-11T08:17:16.289Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./app
→ Excludes: (none)

[2023-03-11T08:17:16.409Z] Found 41 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:17:16.428Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./server,./app/public
→ Excludes: (none)

[2023-03-11T08:17:16.523Z] Found 2 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:17:16.531Z] Resolving 3 modules... → Done

[2023-03-11T08:17:16.544Z] Processing...

[2023-03-11T08:17:16.563Z] Syncing 0 files from . to .garden/build/database (and removing any extraneous files)

[2023-03-11T08:17:16.601Z] Getting build status for v-b8ece8345c...

[2023-03-11T08:17:16.605Z] Getting build status for v-b8ece8345c... → Already built

[2023-03-11T08:17:16.607Z] Syncing module sources (41 files)...

[2023-03-11T08:17:16.608Z] Syncing 41 files from . to .garden/build/app (and removing any extraneous files)

[2023-03-11T08:17:16.644Z] All resources missing from cluster

[2023-03-11T08:17:16.644Z] Getting currently deployed resource statuses...

[2023-03-11T08:17:16.667Z] All resources missing from cluster

[2023-03-11T08:17:16.668Z] Syncing module sources (41 files)... → Done (took 0.1 sec)

[2023-03-11T08:17:16.670Z] Getting build status for v-656d5daca2...

[2023-03-11T08:17:16.674Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker images app:v-656d5daca2 -q' in /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:17:16.732Z] Comparing expected and deployed resources...

[2023-03-11T08:17:16.734Z] All resources match.

[2023-03-11T08:17:16.739Z] Deploying version v-a957583129...

[2023-03-11T08:17:16.741Z] Deploying version v-a957583129... → Already deployed

[2023-03-11T08:17:16.751Z] Started proxy to database/database:5432 on localhost:5432

[2023-03-11T08:17:16.754Z] Port forward: postgres://localhost:5432 → database:5432 (database)

[2023-03-11T08:17:17.143Z] Building version v-656d5daca2...

[2023-03-11T08:17:17.345Z] Building app:v-656d5daca2...

[2023-03-11T08:17:17.347Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker build -t app:v-656d5daca2 --build-arg GARDEN_MODULE_VERSION=v-656d5daca2 --target app --file /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app/Dockerfile /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app' in /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app

[2023-03-11T08:17:17.602Z] [local-docker]: #1 [internal] load build definition from Dockerfile

[2023-03-11T08:17:17.603Z] [local-docker]: #1 sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9

[2023-03-11T08:17:17.603Z] [local-docker]: #1 transferring dockerfile: 2B done

[2023-03-11T08:17:17.604Z] [local-docker]: #1 DONE 0.0s

[2023-03-11T08:17:17.604Z] [local-docker]: failed to solve with frontend dockerfile.v0: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such file or directory

[2023-03-11T08:17:17.610Z] Building app:v-656d5daca2...

[2023-03-11T08:17:17.682Z] Error: Unable to run docker command: Command "/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker build -t app:v-656d5daca2 --build-arg GARDEN_MODULE_VERSION=v-656d5daca2 --target app --file /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app/Dockerfile /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app" failed with code 1:

#1 [internal] load build definition from Dockerfile
#1 sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9
#1 transferring dockerfile: 2B done
#1 DONE 0.0s
failed to solve with frontend dockerfile.v0: failed to read dockerfile: open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such file or directory
    at Object.dockerCli (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/plugins/container/helpers.ts:318:13)
    at AsyncFunction.buildContainerModule (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/plugins/container/build.ts:78:15)
    at localBuild (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/plugins/kubernetes/container/build/local.ts:60:23)
    at /snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/actions.ts:1325:24
    at ActionRouter.build (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/actions.ts:419:16)
    at wrapped.process (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/tasks/build.ts:149:16)
    at TaskNode.process (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/task-graph.ts:801:20)
    at wrapped.processNode (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/task-graph.ts:436:18)

Error Details:

err:
  detail:
    cmd: /Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker
    args:
      - build
      - '-t'
      - 'app:v-656d5daca2'
      - '--build-arg'
      - GARDEN_MODULE_VERSION=v-656d5daca2
      - '--target'
      - app
      - '--file'
      - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app/Dockerfile
      - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app
    opts:
      cwd: /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app
      timeoutSec: 1200
      ignoreError: false
      env:
        PWD: /Users/brennanwalsh/Sites/Sandbox/proj
        MANPATH: >-
          /opt/homebrew/share/man:/usr/share/man:/usr/local/share/man:/opt/homebrew/share/man::
        USER: brennanwalsh
        HOMEBREW_PREFIX: /opt/homebrew
        SECURITYSESSIONID: 186b2
        INFOPATH: '/opt/homebrew/share/info:/opt/homebrew/share/info:'
        MallocNanoZone: '0'
        LANG: en_US.UTF-8
        COMMAND_MODE: unix2003
        ASDF_DIR: /opt/homebrew/opt/asdf/libexec
        PATH: >-
          /opt/homebrew/Caskroom/google-cloud-sdk/latest/google-cloud-sdk/bin:/Users/brennanwalsh/.asdf/shims:/opt/homebrew/opt/asdf/libexec/bin:/opt/homebrew/bin:/opt/homebrew/sbin:/usr/local/bin:/System/Cryptexes/App/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Applications/VMware
          Fusion Tech
          Preview.app/Contents/Public:/usr/local/share/dotnet:\x7e/.dotnet/tools:/Library/Apple/usr/bin:/Library/Frameworks/Mono.framework/Versions/Current/Commands:/opt/homebrew/bin:/opt/homebrew/sbin:/Users/brennanwalsh/.asdf/installs/golang/1.20.1/packages/bin:/Users/brennanwalsh/.asdf/installs/golang/1.20.1/packages/bin
        TERM: xterm-256color
        LOGNAME: brennanwalsh
        TERM_SESSION_ID: 8DD805D0-8C93-4BF1-BBFC-A0A542A8EDFD
        SSH_AUTH_SOCK: /private/tmp/com.apple.launchd.8hIdxjmxb3/Listeners
        TERM_PROGRAM_VERSION: 1.76.1
        SHLVL: '3'
        HOMEBREW_REPOSITORY: /opt/homebrew
        HOMEBREW_CELLAR: /opt/homebrew/Cellar
        SHELL: /bin/zsh
        HOME: /Users/brennanwalsh
        TERM_PROGRAM: vscode
        TMPDIR: /var/folders/9_/j0fd62z93k5fg6mz5ckj9kch0000gn/T/
        LaunchInstanceID: DC7E9EB6-C2E6-453D-8736-BF8123A19ABD
        XPC_SERVICE_NAME: '0'
        XPC_FLAGS: '0x0'
        ORIGINAL_XDG_CURRENT_DESKTOP: undefined
        COLORTERM: truecolor
        NODE_OPTIONS: >-
          --require "/Users/brennanwalsh/Library/Application
          Support/Code/User/workspaceStorage/ac26558f9c1e7222399ba0a12b7f6375/ms-vscode.js-debug/bootloader.js" 
        VSCODE_INSPECTOR_OPTIONS: >-
          :::{"inspectorIpc":"/var/folders/9_/j0fd62z93k5fg6mz5ckj9kch0000gn/T/node-cdp.30121-0.sock.deferred","deferredMode":true,"waitForDebugger":"","execPath":"/Users/brennanwalsh/.asdf/shims/node","onlyEntrypoint":false,"autoAttachMode":"smart","aaPatterns":["/Users/brennanwalsh/Sites/Sandbox/proj/**","!**/node_modules/**","**/$KNOWN_TOOLS$/**"]}
        GIT_ASKPASS: >-
          /Applications/Visual Studio
          Code.app/Contents/Resources/app/extensions/git/dist/askpass.sh
        VSCODE_GIT_ASKPASS_NODE: >-
          /Applications/Visual Studio Code.app/Contents/Frameworks/Code Helper
          (Plugin).app/Contents/MacOS/Code Helper (Plugin)
        VSCODE_GIT_ASKPASS_EXTRA_ARGS: '--ms-enable-electron-run-as-node'
        VSCODE_GIT_ASKPASS_MAIN: >-
          /Applications/Visual Studio
          Code.app/Contents/Resources/app/extensions/git/dist/askpass-main.js
        VSCODE_GIT_IPC_HANDLE: >-
          /var/folders/9_/j0fd62z93k5fg6mz5ckj9kch0000gn/T/vscode-git-c67cc6168a.sock
        DOCKER_CLI_EXPERIMENTAL: enabled
        PKG_EXECPATH: /opt/homebrew/Cellar/garden-cli/0.12.52/libexec/garden
      stdout:
        readable: false
        writable: false
        allowHalfOpen: true
        matcher: {}
        overflow: false
      stderr: ~err~detail~opts~stdout
    result:
      code: 1
      all: >
        #1 [internal] load build definition from Dockerfile

        #1
        sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9

        #1 transferring dockerfile: 2B done

        #1 DONE 0.0s

        failed to solve with frontend dockerfile.v0: failed to read dockerfile:
        open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such
        file or directory
      stdout: ''
      stderr: >
        #1 [internal] load build definition from Dockerfile

        #1
        sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9

        #1 transferring dockerfile: 2B done

        #1 DONE 0.0s

        failed to solve with frontend dockerfile.v0: failed to read dockerfile:
        open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such
        file or directory
      proc:
        connected: false
        signalCode: null
        exitCode: 1
        killed: false
        spawnfile: >-
          /Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker
        spawnargs:
          - >-
            /Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker
          - build
          - '-t'
          - 'app:v-656d5daca2'
          - '--build-arg'
          - GARDEN_MODULE_VERSION=v-656d5daca2
          - '--target'
          - app
          - '--file'
          - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app/Dockerfile
          - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app
        pid: 92863
        stdin:
          connecting: false
          allowHalfOpen: false
          server: null
        stdout:
          connecting: false
          allowHalfOpen: false
          server: null
        stderr:
          connecting: false
          allowHalfOpen: false
          server: null
        stdio:
          - ~err~detail~result~proc~stdin
          - ~err~detail~result~proc~stdout
          - ~err~detail~result~proc~stderr
    code: 1
    all: >
      #1 [internal] load build definition from Dockerfile

      #1 sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9

      #1 transferring dockerfile: 2B done

      #1 DONE 0.0s

      failed to solve with frontend dockerfile.v0: failed to read dockerfile:
      open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such file
      or directory
    stdout: ''
    stderr: >
      #1 [internal] load build definition from Dockerfile

      #1 sha256:abcf1a2706f69c5ad1d7d2778eaaf56423cbfc15af937568b5046e457de009e9

      #1 transferring dockerfile: 2B done

      #1 DONE 0.0s

      failed to solve with frontend dockerfile.v0: failed to read dockerfile:
      open /var/lib/docker/tmp/buildkit-mount1341847424/Dockerfile: no such file
      or directory
    proc: ~err~detail~result~proc
  type: runtime
args:
  - build
  - '-t'
  - 'app:v-656d5daca2'
  - '--build-arg'
  - GARDEN_MODULE_VERSION=v-656d5daca2
  - '--target'
  - app
  - '--file'
  - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app/Dockerfile
  - /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app
cwd: /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/app


[2023-03-11T08:17:17.699Z] Watcher: Watching paths /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:17:17.699Z] Watcher: Starting FSWatcher

[2023-03-11T08:17:17.703Z] Waiting for code changes...

[2023-03-11T08:18:06.068Z] 401 Unauthorized

[2023-03-11T08:18:06.072Z] Send event: {"type":"error","message":"401 Unauthorized"}

[2023-03-11T08:18:08.111Z] 401 Unauthorized

[2023-03-11T08:18:08.112Z] Send event: {"type":"error","message":"401 Unauthorized"}

[2023-03-11T08:18:09.473Z] API server request failed with status 404: Unauthorized request

[2023-03-11T08:18:09.480Z] API server request failed with status 404: Unauthorized request

[2023-03-11T08:18:09.488Z] 401 Unauthorized

[2023-03-11T08:18:09.488Z] Send event: {"type":"error","message":"401 Unauthorized"}

[2023-03-11T08:20:51.012Z] Error reading safe directories from the .gitconfig: Error: Command "git config --get-all safe.directory" failed with code 1:

[2023-03-11T08:20:51.127Z] Getting status...
