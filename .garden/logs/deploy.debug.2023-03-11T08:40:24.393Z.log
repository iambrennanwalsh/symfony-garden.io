
[2023-03-11T08:40:24.415Z] Scanning project root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: **/*garden.y*ml
→ Excludes: .garden/**/*,.git,.gitmodules,.garden/**/*,debug-info*/**

[2023-03-11T08:40:24.539Z] Found 2 files in project root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:24.674Z] Getting status...

[2023-03-11T08:40:26.168Z] Using current context: docker-desktop

[2023-03-11T08:40:26.241Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:

[2023-03-11T08:40:26.278Z] Getting status... → Cached

[2023-03-11T08:40:26.279Z] Run with --force-refresh to force a refresh of provider statuses.

[2023-03-11T08:40:26.282Z] Resolving 3 modules...

[2023-03-11T08:40:26.356Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./Dockerfile,./app
→ Excludes: (none)

[2023-03-11T08:40:26.509Z] Found 42 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:26.537Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./Dockerfile,./server,./app/public
→ Excludes: (none)

[2023-03-11T08:40:26.681Z] Found 3 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:26.699Z] Resolving 3 modules... → Done

[2023-03-11T08:40:26.723Z] Processing...

[2023-03-11T08:40:26.745Z] Syncing 0 files from . to .garden/build/database (and removing any extraneous files)

[2023-03-11T08:40:26.819Z] Getting build status for v-b8ece8345c...

[2023-03-11T08:40:26.826Z] Getting build status for v-b8ece8345c... → Already built

[2023-03-11T08:40:26.829Z] Syncing module sources (42 files)...

[2023-03-11T08:40:26.849Z] Syncing 42 files from . to .garden/build/app (and removing any extraneous files)

[2023-03-11T08:40:26.884Z] Kubernetes: Getting API resource info for group apps/v1

[2023-03-11T08:40:26.885Z] Kubernetes: Getting API resource info for group v1

[2023-03-11T08:40:26.899Z] Kubernetes: Getting API resource info for group networking.k8s.io/v1

[2023-03-11T08:40:26.924Z] Syncing module sources (42 files)... → Done (took 0.1 sec)

[2023-03-11T08:40:26.927Z] Getting build status for v-c684a0c14a...

[2023-03-11T08:40:26.945Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker images app:v-c684a0c14a -q' in /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:27.047Z] Getting currently deployed resource statuses...

[2023-03-11T08:40:27.047Z] Getting currently deployed resource statuses...

[2023-03-11T08:40:27.092Z] Getting currently deployed resource statuses...

[2023-03-11T08:40:27.137Z] Comparing expected and deployed resources...

[2023-03-11T08:40:27.138Z] All resources match.

[2023-03-11T08:40:27.151Z] Comparing expected and deployed resources...

[2023-03-11T08:40:27.152Z] Comparing expected and deployed resources...

[2023-03-11T08:40:27.153Z] Resource server is not a superset of deployed resource

[2023-03-11T08:40:27.158Z] All resources match.

[2023-03-11T08:40:27.164Z] Deploying version v-a957583129...

[2023-03-11T08:40:27.166Z] Deploying version v-a957583129... → Already deployed

[2023-03-11T08:40:27.205Z] Started proxy to database/database:5432 on localhost:5432

[2023-03-11T08:40:27.208Z] Port forward: postgres://localhost:5432 → database:5432 (database)

[2023-03-11T08:40:27.349Z] Image app:v-c684a0c14a already exists

[2023-03-11T08:40:27.352Z] Getting build status for v-c684a0c14a... → Already built

[2023-03-11T08:40:27.363Z] Syncing module sources (3 files)...

[2023-03-11T08:40:27.369Z] Deploying version v-2106fd84f6...

[2023-03-11T08:40:27.371Z] Deploying version v-2106fd84f6... → Already deployed

[2023-03-11T08:40:27.372Z] Syncing 3 files from . to .garden/build/server (and removing any extraneous files)

[2023-03-11T08:40:27.378Z] Started proxy to app/app:9000 on localhost:9000

[2023-03-11T08:40:27.380Z] Port forward: localhost:9000 → app:9000 (app)

[2023-03-11T08:40:27.386Z] Syncing module sources (3 files)... → Done (took 0 sec)

[2023-03-11T08:40:27.388Z] Getting build status for v-8e26e662bd...

[2023-03-11T08:40:27.393Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker images server:v-8e26e662bd -q' in /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:27.500Z] Image server:v-8e26e662bd already exists

[2023-03-11T08:40:27.503Z] Getting build status for v-8e26e662bd... → Already built

[2023-03-11T08:40:27.506Z] Deploying version v-097291880d...

[2023-03-11T08:40:27.511Z] Kubernetes: Getting API resource info for group batch/v1

[2023-03-11T08:40:27.513Z] Kubernetes: Getting API resource info for group batch/v1beta1

[2023-03-11T08:40:27.513Z] Kubernetes: Getting API resource info for group extensions/v1beta1

[2023-03-11T08:40:28.146Z] Waiting for resources to be ready...

[2023-03-11T08:40:28.147Z] [kubernetes-plugin]: Waiting for resources to be ready...

[2023-03-11T08:40:30.209Z] Status of Deployment server is "ready"

[2023-03-11T08:40:30.209Z] [kubernetes-plugin]: Status of Deployment server is "ready"

[2023-03-11T08:40:30.209Z] Status of Service server is "ready"

[2023-03-11T08:40:30.209Z] [kubernetes-plugin]: Status of Service server is "ready"

[2023-03-11T08:40:30.209Z] Status of Ingress server-0 is "ready"

[2023-03-11T08:40:30.209Z] [kubernetes-plugin]: Status of Ingress server-0 is "ready"

[2023-03-11T08:40:30.209Z] [kubernetes-plugin]: Resources ready

[2023-03-11T08:40:30.212Z] Resources ready

[2023-03-11T08:40:30.245Z] Getting currently deployed resource statuses...

[2023-03-11T08:40:30.272Z] Comparing expected and deployed resources...

[2023-03-11T08:40:30.277Z] All resources match.

[2023-03-11T08:40:30.283Z] Deploying version v-097291880d... → Done (took 2.8 sec)

[2023-03-11T08:40:30.287Z] Ingress: http://todone.local

[2023-03-11T08:40:30.293Z] Started proxy to server/server:80 on localhost:60487

[2023-03-11T08:40:30.295Z] Port forward: http://localhost:60487 → server:80 (http)

[2023-03-11T08:40:30.299Z] Watcher: Watching paths /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:40:30.306Z] Watcher: Starting FSWatcher

[2023-03-11T08:40:30.310Z] Waiting for code changes...

[2023-03-11T08:40:48.259Z] Starting port forward to server/server:80

[2023-03-11T08:40:48.305Z] Forwarding local port 60566 to Service/server port 80

[2023-03-11T08:40:49.191Z] Successfully started port forward to server/server:80

[2023-03-11T08:40:49.193Z] Connecting to server/server:80 port forward at localhost:60566

[2023-03-11T08:40:49.200Z] Connecting to server/server:80 port forward at localhost:60566

[2023-03-11T08:40:49.200Z] Connecting to server/server:80 port forward at localhost:60566

[2023-03-11T08:41:54.235Z] Connection from undefined:undefined ended

[2023-03-11T08:44:19.584Z] Error reading safe directories from the .gitconfig: Error: Command "git config --get-all safe.directory" failed with code 1:

[2023-03-11T08:44:19.719Z] Getting status...

[2023-03-11T08:44:20.435Z] Using current context: docker-desktop

[2023-03-11T08:44:20.489Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:

[2023-03-11T08:44:20.511Z] Getting status... → Cached

[2023-03-11T08:44:20.514Z] Run with --force-refresh to force a refresh of provider statuses.

[2023-03-11T08:44:20.518Z] Scanning project root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: **/*garden.y*ml
→ Excludes: .garden/**/*,.git,.gitmodules,.garden/**/*,debug-info*/**

[2023-03-11T08:44:20.690Z] Found 2 files in project root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:44:20.728Z] Resolving 3 modules...

[2023-03-11T08:44:20.769Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./Dockerfile,./app
→ Excludes: (none)

[2023-03-11T08:44:20.901Z] Found 42 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T08:44:20.980Z] server: Error: Error validating Module 'server': key .services[0][volumes][0][name] with value "caddyData" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/, key .services[0][volumes][1][name] with value "caddyConfig" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/
    at validateSchema (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/config/validation.ts:134:11)
    at validateWithPath (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/config/validation.ts:80:13)
    at ModuleResolver.resolveModuleConfig (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/resolve-module.ts:381:37)
    at processTicksAndRejections (node:internal/process/task_queues:95:5)
    at processNode (/snapshot/project/tmp/pkg/cli/node_modules/@garden-io/core/src/resolve-module.ts:132:57)

Error Details:

server:
  detail:
    value:
      dockerfile: ./Dockerfile
      services:
        - name: server
          volumes:
            - name: caddyData
              containerPath: /data
            - name: caddyConfig
              containerPath: /config
          ports:
            - name: http
              containerPort: 80
          ingresses:
            - path: /
              port: http
              hostname: todone.local
      build:
        dependencies:
          - name: app
            copy: []
        targetImage: server
    context: Module 'server'
    errorDescription: "key \e[4m.services[0][volumes][0][name]\e[24m with value \"caddyData\" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/, key \e[4m.services[0][volumes][1][name]\e[24m with value \"caddyConfig\" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/"
    errorDetails:
      - message: "key \e[4m.services[0][volumes][0][name]\e[24m with value \"caddyData\" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/"
        path:
          - services
          - 0
          - volumes
          - 0
          - name
        type: string.pattern.base
        context:
          regex: {}
          value: caddyData
          label: 'services[0].volumes[0].name'
          key: name
      - message: "key \e[4m.services[0][volumes][1][name]\e[24m with value \"caddyConfig\" fails to match the required pattern: /^(?!garden)(?=.{1,63}$)[a-z][a-z0-9]*(-[a-z0-9]+)*$/"
        path:
          - services
          - 0
          - volumes
          - 1
          - name
        type: string.pattern.base
        context:
          regex: ~server~detail~errorDetails~0~context~regex
          value: caddyConfig
          label: 'services[0].volumes[1].name'
          key: name
  type: configuration


[2023-03-11T08:44:41.886Z] Error reading safe directories from the .gitconfig: Error: Command "git config --get-all safe.directory" failed with code 1:

[2023-03-11T08:44:42.018Z] Getting status...

[2023-03-11T08:44:42.714Z] Using current context: docker-desktop

[2023-03-11T08:44:42.775Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:
