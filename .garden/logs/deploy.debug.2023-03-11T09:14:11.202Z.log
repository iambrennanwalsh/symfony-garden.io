
[2023-03-11T09:14:11.229Z] Scanning project root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: **/*garden.y*ml
→ Excludes: .garden/**/*,.git,.gitmodules,.garden/**/*,debug-info*/**

[2023-03-11T09:14:11.368Z] Found 2 files in project root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:11.513Z] Getting status...

[2023-03-11T09:14:13.288Z] Using current context: docker-desktop

[2023-03-11T09:14:13.309Z] An attempt to get kind version failed with Error: Command "kind version" failed with code ENOENT:

[2023-03-11T09:14:13.331Z] Getting status... → Cached

[2023-03-11T09:14:13.332Z] Run with --force-refresh to force a refresh of provider statuses.

[2023-03-11T09:14:13.334Z] Resolving 3 modules...

[2023-03-11T09:14:13.397Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./Dockerfile,./app
→ Excludes: (none)

[2023-03-11T09:14:13.545Z] Found 42 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:13.574Z] Scanning module root at /Users/brennanwalsh/Sites/Sandbox/proj
→ Includes: ./Dockerfile,./server,./app/public
→ Excludes: (none)

[2023-03-11T09:14:13.671Z] Found 3 files in module root /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:13.689Z] Resolving 3 modules... → Done

[2023-03-11T09:14:13.712Z] Processing...

[2023-03-11T09:14:13.735Z] Syncing 0 files from . to .garden/build/database (and removing any extraneous files)

[2023-03-11T09:14:13.791Z] Getting build status for v-b8ece8345c...

[2023-03-11T09:14:13.801Z] Getting build status for v-b8ece8345c... → Already built

[2023-03-11T09:14:13.803Z] Syncing module sources (42 files)...

[2023-03-11T09:14:13.823Z] Syncing 42 files from . to .garden/build/app (and removing any extraneous files)

[2023-03-11T09:14:13.859Z] Kubernetes: Getting API resource info for group apps/v1

[2023-03-11T09:14:13.860Z] Kubernetes: Getting API resource info for group v1

[2023-03-11T09:14:13.876Z] Kubernetes: Getting API resource info for group networking.k8s.io/v1

[2023-03-11T09:14:13.994Z] Syncing module sources (42 files)... → Done (took 0.2 sec)

[2023-03-11T09:14:14.000Z] Getting build status for v-e5c060db16...

[2023-03-11T09:14:14.011Z] Getting currently deployed resource statuses...

[2023-03-11T09:14:14.011Z] Getting currently deployed resource statuses...

[2023-03-11T09:14:14.018Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker images app:v-e5c060db16 -q' in /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:14.077Z] Getting currently deployed resource statuses...

[2023-03-11T09:14:14.107Z] Comparing expected and deployed resources...

[2023-03-11T09:14:14.108Z] Comparing expected and deployed resources...

[2023-03-11T09:14:14.109Z] All resources match.

[2023-03-11T09:14:14.109Z] All resources match.

[2023-03-11T09:14:14.119Z] Deploying version v-a957583129...

[2023-03-11T09:14:14.120Z] Deploying version v-a957583129... → Already deployed

[2023-03-11T09:14:14.135Z] Comparing expected and deployed resources...

[2023-03-11T09:14:14.136Z] Resource server is not a superset of deployed resource

[2023-03-11T09:14:14.142Z] Started proxy to database/database:5432 on localhost:5432

[2023-03-11T09:14:14.147Z] Port forward: postgres://localhost:5432 → database:5432 (database)

[2023-03-11T09:14:14.451Z] Image app:v-e5c060db16 already exists

[2023-03-11T09:14:14.454Z] Getting build status for v-e5c060db16... → Already built

[2023-03-11T09:14:14.463Z] Syncing module sources (3 files)...

[2023-03-11T09:14:14.467Z] Deploying version v-e02a04a73a...

[2023-03-11T09:14:14.469Z] Deploying version v-e02a04a73a... → Already deployed

[2023-03-11T09:14:14.470Z] Syncing 3 files from . to .garden/build/server (and removing any extraneous files)

[2023-03-11T09:14:14.477Z] Started proxy to app/app:80 on localhost:54175

[2023-03-11T09:14:14.479Z] Port forward: http://localhost:54175 → app:80 (app)

[2023-03-11T09:14:14.485Z] Syncing module sources (3 files)... → Done (took 0 sec)

[2023-03-11T09:14:14.487Z] Getting build status for v-a787396de6...

[2023-03-11T09:14:14.491Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker images server:v-a787396de6 -q' in /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:14.586Z] Building version v-a787396de6...

[2023-03-11T09:14:14.830Z] Building server:v-a787396de6...

[2023-03-11T09:14:14.832Z] Spawning '/Users/brennanwalsh/.garden/tools/docker/23842c62b99af05f/docker/docker build -t server:v-a787396de6 --build-arg GARDEN_MODULE_VERSION=v-a787396de6 --target server --file /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/server/Dockerfile /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/server' in /Users/brennanwalsh/Sites/Sandbox/proj/.garden/build/server

[2023-03-11T09:14:15.255Z] [local-docker]: #1 [internal] load build definition from Dockerfile

[2023-03-11T09:14:15.255Z] [local-docker]: #1 sha256:cbe933f872fb6c304c3e4921de77f4a436ec8b3a59a5bec408f9e1970cffa9c1

[2023-03-11T09:14:15.255Z] [local-docker]: #1 transferring dockerfile: 37B done

[2023-03-11T09:14:15.255Z] [local-docker]: #1 DONE 0.0s

[2023-03-11T09:14:15.255Z] [local-docker]: 

[2023-03-11T09:14:15.255Z] [local-docker]: #2 [internal] load .dockerignore

[2023-03-11T09:14:15.256Z] [local-docker]: #2 sha256:908cf3e0a53177df4d990c08ad1ac2f1b1351a8d7336da6839494906db79ff02

[2023-03-11T09:14:15.256Z] [local-docker]: #2 transferring context: 2B done

[2023-03-11T09:14:15.256Z] [local-docker]: #2 DONE 0.0s

[2023-03-11T09:14:15.256Z] [local-docker]: 

[2023-03-11T09:14:15.256Z] [local-docker]: #3 resolve image config for docker.io/docker/dockerfile:1.4

[2023-03-11T09:14:15.256Z] [local-docker]: #3 sha256:9ea865748483b1f4f52c8c6ec970fc4927717bff340cfc4c224a179f2ef026ca

[2023-03-11T09:14:16.158Z] [local-docker]: #3 ...

[2023-03-11T09:14:16.159Z] [local-docker]: 

[2023-03-11T09:14:16.159Z] [local-docker]: #4 [auth] docker/dockerfile:pull token for registry-1.docker.io

[2023-03-11T09:14:16.159Z] [local-docker]: #4 sha256:27b6a0b02d5f6e8aba17ec50f7ba362deacbd0e0549ff66543707412cdff04c8

[2023-03-11T09:14:16.159Z] [local-docker]: #4 DONE 0.0s

[2023-03-11T09:14:16.307Z] [local-docker]: 

[2023-03-11T09:14:16.307Z] [local-docker]: #3 resolve image config for docker.io/docker/dockerfile:1.4

[2023-03-11T09:14:16.307Z] [local-docker]: #3 sha256:9ea865748483b1f4f52c8c6ec970fc4927717bff340cfc4c224a179f2ef026ca

[2023-03-11T09:14:16.880Z] [local-docker]: #3 DONE 1.6s

[2023-03-11T09:14:17.031Z] [local-docker]: 

[2023-03-11T09:14:17.031Z] [local-docker]: #5 docker-image://docker.io/docker/dockerfile:1.4@sha256:9ba7531bd80fb0a858632727cf7a112fbfd19b17e94c4e84ced81e24ef1a0dbc

[2023-03-11T09:14:17.031Z] [local-docker]: #5 sha256:66a0e12aa5cbc2eaf894e26a8df172f6c2bc232ebfb59d1ecf39b78f65e274a5

[2023-03-11T09:14:17.031Z] [local-docker]: #5 CACHED

[2023-03-11T09:14:17.182Z] [local-docker]: 

[2023-03-11T09:14:17.182Z] [local-docker]: #6 [internal] load build definition from Dockerfile

[2023-03-11T09:14:17.182Z] [local-docker]: #6 sha256:b309191164a3a16c5aa82df4c7bb8b5b81e4a166ba2ce6d94ce0063417a20f05

[2023-03-11T09:14:17.183Z] [local-docker]: #6 DONE 0.0s

[2023-03-11T09:14:17.183Z] [local-docker]: 

[2023-03-11T09:14:17.183Z] [local-docker]: #7 [internal] load .dockerignore

[2023-03-11T09:14:17.183Z] [local-docker]: #7 sha256:fbffd14c71e7e59d0f7ce3951cb5ea52d73a5993dc093203916bcc16a849a977

[2023-03-11T09:14:17.183Z] [local-docker]: #7 DONE 0.0s

[2023-03-11T09:14:17.183Z] [local-docker]: 

[2023-03-11T09:14:17.183Z] [local-docker]: #8 [internal] load metadata for docker.io/library/caddy:2.6-alpine

[2023-03-11T09:14:17.183Z] [local-docker]: #8 sha256:b5c2bfb54074ace1ac2676cd0cfcdd7bf608114053735ecb316464b673ee88af

[2023-03-11T09:14:17.483Z] [local-docker]: #8 ...

[2023-03-11T09:14:17.484Z] [local-docker]: 

[2023-03-11T09:14:17.484Z] [local-docker]: #9 [auth] library/caddy:pull token for registry-1.docker.io

[2023-03-11T09:14:17.484Z] [local-docker]: #9 sha256:42f39c0653641769ca4af523c9ba6a967cb6742f1f977e6333232d9168ec2128

[2023-03-11T09:14:17.484Z] [local-docker]: #9 DONE 0.0s

[2023-03-11T09:14:17.635Z] [local-docker]: 

[2023-03-11T09:14:17.635Z] [local-docker]: #8 [internal] load metadata for docker.io/library/caddy:2.6-alpine

[2023-03-11T09:14:17.635Z] [local-docker]: #8 sha256:b5c2bfb54074ace1ac2676cd0cfcdd7bf608114053735ecb316464b673ee88af

[2023-03-11T09:14:17.888Z] [local-docker]: #8 DONE 0.8s

[2023-03-11T09:14:17.888Z] [local-docker]: 

[2023-03-11T09:14:17.888Z] [local-docker]: #10 [server 1/4] FROM docker.io/library/caddy:2.6-alpine@sha256:3f4414616d9141c4fbd9f66641d9b91a3b67833dd4145738c536dee584db5314

[2023-03-11T09:14:17.888Z] [local-docker]: #10 sha256:7512f525f983f4aa77728146b3cf48a3abfc49a3375957ea816cc1eb65fd60fa

[2023-03-11T09:14:17.889Z] [local-docker]: #10 resolve docker.io/library/caddy:2.6-alpine@sha256:3f4414616d9141c4fbd9f66641d9b91a3b67833dd4145738c536dee584db5314 done

[2023-03-11T09:14:17.889Z] [local-docker]: #10 DONE 0.0s

[2023-03-11T09:14:17.889Z] [local-docker]: 

[2023-03-11T09:14:17.889Z] [local-docker]: #12 [internal] load build context

[2023-03-11T09:14:17.889Z] [local-docker]: #12 sha256:51248f750973fc3a82f26c4b2f1dc2cecba3276bf980f92662588ce910a1c364

[2023-03-11T09:14:17.889Z] [local-docker]: #12 transferring context: 274B done

[2023-03-11T09:14:17.889Z] [local-docker]: #12 DONE 0.0s

[2023-03-11T09:14:17.961Z] [local-docker]: 

[2023-03-11T09:14:17.962Z] [local-docker]: #11 [server 2/4] WORKDIR /srv/app

[2023-03-11T09:14:17.963Z] [local-docker]: #11 sha256:4f4cee17ac54c82763d359b937a28ab3630c941c21b6bf24e4c1ec8c8eecfc5b

[2023-03-11T09:14:17.963Z] [local-docker]: #11 CACHED

[2023-03-11T09:14:17.963Z] [local-docker]: 

[2023-03-11T09:14:17.964Z] [local-docker]: #13 [server 3/4] COPY --link ./server/Caddyfile /etc/caddy/Caddyfile

[2023-03-11T09:14:17.965Z] [local-docker]: #13 sha256:daebc161d769930cb016c728d29503f5500bbe967bfc5037b45938aa29f6edab

[2023-03-11T09:14:17.967Z] [local-docker]: #13 DONE 0.0s

[2023-03-11T09:14:17.967Z] [local-docker]: 

[2023-03-11T09:14:17.967Z] [local-docker]: #14 [server 4/4] COPY --link ./app/public public

[2023-03-11T09:14:17.967Z] [local-docker]: #14 sha256:c190e23fce5bd82fd56601a0794f267103f5b4b7a8a6ae1e9931377ef3fc7da8

[2023-03-11T09:14:17.967Z] [local-docker]: #14 DONE 0.0s

[2023-03-11T09:14:17.967Z] [local-docker]: 

[2023-03-11T09:14:17.967Z] [local-docker]: #15 exporting to image

[2023-03-11T09:14:17.967Z] [local-docker]: #15 sha256:e8c613e07b0b7ff33893b694f7759a10d42e180f2b4dc349fb57dc6b71dcab00

[2023-03-11T09:14:17.967Z] [local-docker]: #15 exporting layers 0.0s done

[2023-03-11T09:14:17.967Z] [local-docker]: #15 writing image sha256:53fb8ee5c2d417efc73ebda13e3a1e7f32c97b9d47382eda1b62ad82b9117df6 done

[2023-03-11T09:14:17.967Z] [local-docker]: #15 naming to docker.io/library/server:v-a787396de6 done

[2023-03-11T09:14:17.967Z] [local-docker]: #15 DONE 0.0s

[2023-03-11T09:14:17.973Z] Building server:v-a787396de6... → Done (took 3.5 sec)

[2023-03-11T09:14:17.981Z] Deploying version v-6f03564fa2...

[2023-03-11T09:14:18.001Z] Kubernetes: Getting API resource info for group batch/v1

[2023-03-11T09:14:18.003Z] Kubernetes: Getting API resource info for group batch/v1beta1

[2023-03-11T09:14:18.003Z] Kubernetes: Getting API resource info for group extensions/v1beta1

[2023-03-11T09:14:19.053Z] Waiting for resources to be ready...

[2023-03-11T09:14:19.055Z] [kubernetes-plugin]: Waiting for resources to be ready...

[2023-03-11T09:14:21.326Z] Status of Deployment server is "deploying"

[2023-03-11T09:14:21.327Z] [kubernetes-plugin]: Status of Deployment server is "deploying"

[2023-03-11T09:14:21.336Z] Deployment/server: Started container server

[2023-03-11T09:14:21.337Z] [kubernetes-plugin]: Deployment/server: Started container server

[2023-03-11T09:14:21.337Z] Status of Service server is "ready"

[2023-03-11T09:14:21.337Z] [kubernetes-plugin]: Status of Service server is "ready"

[2023-03-11T09:14:21.337Z] Status of Ingress server-0 is "ready"

[2023-03-11T09:14:21.337Z] [kubernetes-plugin]: Status of Ingress server-0 is "ready"

[2023-03-11T09:14:23.943Z] Status of Deployment server is "ready"

[2023-03-11T09:14:23.944Z] [kubernetes-plugin]: Status of Deployment server is "ready"

[2023-03-11T09:14:23.944Z] Status of Service server is "ready"

[2023-03-11T09:14:23.944Z] [kubernetes-plugin]: Status of Service server is "ready"

[2023-03-11T09:14:23.944Z] Status of Ingress server-0 is "ready"

[2023-03-11T09:14:23.944Z] [kubernetes-plugin]: Status of Ingress server-0 is "ready"

[2023-03-11T09:14:23.944Z] [kubernetes-plugin]: Resources ready

[2023-03-11T09:14:23.953Z] Resources ready

[2023-03-11T09:14:23.985Z] Getting currently deployed resource statuses...

[2023-03-11T09:14:24.007Z] Comparing expected and deployed resources...

[2023-03-11T09:14:24.010Z] All resources match.

[2023-03-11T09:14:24.019Z] Deploying version v-6f03564fa2... → Done (took 6 sec)

[2023-03-11T09:14:24.022Z] Ingress: http://todone.local

[2023-03-11T09:14:24.028Z] Started proxy to server/server:80 on localhost:54258

[2023-03-11T09:14:24.030Z] Port forward: http://localhost:54258 → server:80 (http)

[2023-03-11T09:14:24.035Z] Watcher: Watching paths /Users/brennanwalsh/Sites/Sandbox/proj

[2023-03-11T09:14:24.037Z] Watcher: Starting FSWatcher

[2023-03-11T09:14:24.040Z] Waiting for code changes...

[2023-03-11T09:14:27.076Z] Starting port forward to server/server:80

[2023-03-11T09:14:27.146Z] Forwarding local port 54275 to Service/server port 80

[2023-03-11T09:14:28.017Z] Successfully started port forward to server/server:80

[2023-03-11T09:14:28.020Z] Connecting to server/server:80 port forward at localhost:54275

[2023-03-11T09:14:28.022Z] Connecting to server/server:80 port forward at localhost:54275

[2023-03-11T09:14:28.022Z] Connecting to server/server:80 port forward at localhost:54275

[2023-03-11T09:14:28.066Z] Connection from undefined:undefined ended
